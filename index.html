<!DOCTYPE html>
<html>
  <head>
    <title>Konami Code Lab</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="node_modules/mocha/mocha.css" />
  </head>

  <body>
    <script src="konami_code.js"></script>
    <!-- Open this file in the browser and call `mocha.run()` in console to run tests -->
    <div id="mocha"></div>
    <script src="node_modules/mocha/mocha.js"></script>
    <script src="node_modules/expect/umd/expect.min.js"></script>
    <script>mocha.setup('bdd');</script>
    <script src="test/index-test.js"></script>


    <script>

    const alphabet = [65, 66, 67];

    // Keep track of index outside of the event handler.
    let index = 0;

    // This is the function that would be invoked by the event listener.
    function onKeyDownHandler(e) {
      const key = parseInt(e.detail || e.which);

      if (key === alphabet[index]) {
        index++;

        if (index === alphabet.length) {
          alert("Hurray!");

          index = 0;
        }
      } else {
        index = 0;
      }
    }
    document.addEventListener('keydown',onKeyDownHandler)

</script>
  </body>
</html>
